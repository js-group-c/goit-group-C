import{a as l,S as d}from"./assets/vendor-CO2X5ukZ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const p="https://books-backend.p.goit.global/books/category-list";fetch(p).then(t=>t.json()).then(t=>{t.forEach(e=>{const r=`<li class="ctg"><a href="./">${e.list_name}</a></li>`;document.getElementById("categories").insertAdjacentHTML("beforeend",r)})}).catch(function(t){console.log(t)});const u="https://books-backend.p.goit.global",f=["/books/category-list","/books/top-books","/books/category","/books"];async function m(){const t=`${u}${f[1]}`;try{return(await l.get(t)).data}catch(e){throw console.error("Error fetching top books: ",e),e}}let g={lines:13,length:38,width:17,radius:45,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#ffffff",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"};const a=new d(g),b=t=>{a.spin(t)},h=()=>{a.stop()},c={topListElem:document.querySelector("#topList"),categoryListElem:document.querySelector("#categoryList"),titleElement:document.querySelector(".top_list-title")};document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",clickSeeMore),document.addEventListener("click",L)});document.addEventListener("DOMContentLoaded",async function(){b(c.titleElement),c.topListElem.innerHTML="";const e=await m();let r="";e.forEach(n=>{r+=_(n)}),c.topListElem.innerHTML=r,h()});function _(t){return`<li class="top_list-container">
            <h2 class="top_list-category_name">${t.list_name}</h2>
            <ul class="top_list-cards">${y(t.books)}</ul>
            <button class="top_list-see_more" data-category="${t.list_name}">See More</button>
        </li>`}function y(t){let e=1;const r=t.map(n=>`
        <li class="top_list-card" data-book-sequence-number="${e++}">
            <div class="top_list-book_cover_wrapper" data-bookid="${n._id}" tabindex="0">
                <img class="top_list-book_cover" src="${n.book_image}" alt="${n.title}">
                
            </div>
            <h3 class="top_list-book_title">${n.title}</h3>
            <p class="top_list-book_author">${n.author}</p>
        </li>
        `).join("");return e++,r}const L=function(t){if(t.target.classList.contains("top_list-book_cover_wrapper")){const e=t.target.dataset.bookid;onOpenModal(e)}};
//# sourceMappingURL=index.js.map
