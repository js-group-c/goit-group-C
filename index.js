import{a as $,S as j,i as K}from"./assets/vendor-C2dPOmMF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();const z="https://books-backend.p.goit.global/books/category-list";fetch(z).then(e=>e.json()).then(e=>{e.forEach(t=>{const o=`<li class="ctg"><a href="#" class='sideCat'>${t.list_name}</a></li>`;document.getElementById("categories").insertAdjacentHTML("beforeend",o)})}).catch(function(e){console.log(e)});const F="https://books-backend.p.goit.global",H=["/books/category-list","/books/top-books","/books/category","/books"];async function W(){const e=`${F}${H[1]}`;try{return(await $.get(e)).data}catch(t){throw console.error("Error fetching top books: ",t),t}}async function J(e){const t=`${F}${H[2]}`,o={category:e};try{return(await $.get(t,{params:o})).data}catch(l){throw console.error("Error fetching books by category: ",l),l}}var p=document.getElementById("login-modal"),v=document.getElementById("btn-sign-up"),R=document.getElementsByClassName("close-modal")[0],Q=document.getElementsByClassName("submit-button")[0],b=document.getElementsByClassName("hmbrgr")[0],V=document.querySelector("div.right-container > a.switcher-2");v.addEventListener("click",v.onclick);b.addEventListener("click",b.onclick);Q.addEventListener("click",Y);V.addEventListener("click",G);v.onclick=function(){p.style.display="flex"};b.onclick=function(){p.style.display="flex"};R.onclick=function(){p.style.display="none"};window.onclick=function(e){e.target==p&&(p.style.display="none")};function Y(){var e=document.getElementById("username").val(),t=document.getElementById("email").val(),o=document.getElementById("password").val();e&&t&&o?(alert("Signup Successful!"),p.style.display="none"):alert("Please fill out all fields.")}function G(){var e=document.querySelector("svg.swicther-2-svg"),t=document.querySelector("header.header"),o=document.querySelector("svg.nav-logo-txt"),l=document.querySelector("svg.hmbrgr-menu"),r=document.querySelector("a.nav-link.shopping-list"),s=document.querySelector("svg.lock-02"),c=document.querySelector("body"),m=document.querySelectorAll("ul#categories > li.ctg"),d=document.querySelector(".top_list-title"),B=document.querySelectorAll(".top_list-book_title "),C=document.querySelectorAll(".top_list-see_more"),T=document.querySelector(".modal-signUp"),M=document.querySelectorAll(".login-form form input"),g=document.querySelector(".login-form button"),x=document.querySelectorAll("div.modal-window > a"),I=document.querySelector("div.close-modal");e.innerHTML.includes("Switcher-2@2x.svg#switcher2")?(e.innerHTML='<use href="../img/SwitcherDark@2x.svg#switcherDark"></use>',t.style.backgroundColor="var(--black)",t.style.border=" 1.5px solid #FFFFFF",o.style.filter="brightness(0) invert(1)",l.style.filter="brightness(0) invert(1)",r.style.color="var(--white)",s.style.filter="brightness(0) invert(1)",c.style.backgroundColor="var(--black)",m.forEach(n=>{n.style.color="#FFFFFF"}),d.style.color="var(--white)",B.forEach(n=>{n.style.color="var(--white)"}),C.forEach(n=>{n.style.color="var(--white)"}),T.style.backgroundColor="var(--black)",M.forEach(n=>{n.style.backgroundColor="var(--black)",n.classList.add("dark-mode")}),g.style.backgroundColor="var(--white)",g.style.color="var(--black)",x.forEach(n=>{n.style.color="var(--white)"}),I.style.color="var(--white)"):(e.innerHTML='<use href="../img/Switcher-2@2x.svg#switcher2"></use>',t.style.backgroundColor="var(--white)",t.style.border=" 1.5px solid #111111",o.style.filter="",l.style.filter="",r.style.color="var(--black)",s.style.filter="",c.style.backgroundColor="var(--white)",m.forEach(n=>{n.style.color="#111111"}),d.style.color="var(--black)",B.forEach(n=>{n.style.color="var(--black)"}),C.forEach(n=>{n.style.color="var(--black)"}),T.style.backgroundColor="#F6F6F6",M.forEach(n=>{n.style.backgroundColor="#F6F6F6",n.classList.remove("dark-mode")}),g.style.backgroundColor="#111111",g.style.color="var(--white)",x.forEach(n=>{n.style.color="var(--black)"}),I.style.color="var(--black)")}let X={lines:12,length:30,width:15,radius:45,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#EAC645",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"};const N=new j(X),w=e=>{N.spin(e)},_=()=>{N.stop()},y=document.getElementById("bookModal"),Z=document.querySelector(".close"),ee=document.querySelector(".modalImage"),te=document.querySelector(".modalTitle"),oe=document.querySelector(".modalAuthor"),le=document.querySelector(".modalDescription"),se=document.querySelector(".modalBuyLinks"),k=document.querySelector(".addToShoppingList"),L=document.querySelector(".removeFromShoppingList"),D=document.querySelector(".feedback-div");let a=JSON.parse(localStorage.getItem("shoppingList"))||[],u=null;const re={Amazon:"../img/png/Amazon_logo.png","Apple Books":"../img/png/apple-books.png","Barnes and Noble":"../img/png/barnes-noblepng.png","Books-A-Million":"../img/png//books-a-million.png",Bookshop:"../img/png/bookshop.png",IndieBound:"../img/png/indie-bound.png"};async function ne(e){u=e;try{const t=await ie(e);t&&(ee.src=t.book_image,te.textContent=t.title,oe.textContent=`Yazar: ${t.author}`,le.textContent=t.description||"Açıklama mevcut değil.",se.innerHTML=t.buy_links.map(o=>{const l=re[o.name]||"./images/default-logo.png";return`<li><a href="${o.url}" target="_blank"><img src="${l}" alt="${o.name}" style="width: 40px; height: auto; margin-right: 10px;"></a></li>`}).join("")),q(e),y.style.display="block",document.body.style.overflow="hidden"}catch(t){console.error("Kitap bilgileri yüklenirken hata oluştu:",t)}}async function ie(e){try{const t=await fetch(`https://books-backend.p.goit.global/books/${e}`);if(!t.ok)throw new Error("Kitap bilgisi getirilemedi.");return await t.json()}catch(t){return console.error("API hatası:",t),null}}function q(e){a.includes(e)?(k.style.display="none",L.style.display="block"):(k.style.display="block",L.style.display="none")}k.addEventListener("click",()=>{a.includes(u)||(a.push(u),localStorage.setItem("shoppingList",JSON.stringify(a))),q(u),D.style.display="block"});L.addEventListener("click",()=>{a=a.filter(e=>e!==u),localStorage.setItem("shoppingList",JSON.stringify(a)),q(u),D.style.display="none"});Z.addEventListener("click",()=>{y.style.display="none",document.body.style.overflow="visible"});window.addEventListener("click",e=>{e.target===y&&(y.style.display="none",document.body.style.overflow="visible")});document.addEventListener("keydown",function(e){e.key==="Escape"&&(y.style.display="none",document.body.style.overflow="visible")});function ce(){K.show({message:"There are no more books in this category",position:"topRight",backgroundColor:"#EAC645"})}const i={topListElem:document.querySelector("#topList"),categoryListElem:document.querySelector("#categoryList"),titleElement:document.querySelector(".top_list-title"),allCategoriesElement:document.querySelector("#categories")};let A=!1;document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",pe),document.addEventListener("click",ue),document.addEventListener("click",me),window.addEventListener("scroll",P)});document.addEventListener("DOMContentLoaded",async function(){w(i.titleElement),i.topListElem.innerHTML="";const t=await W();let o="";t.forEach(l=>{o+=ae(l)}),i.topListElem.innerHTML=o,_()});function ae(e){return`<li class="top_list-container">
            <h2 class="top_list-category_name">${e.list_name}</h2>
            <ul class="top_list-cards">${de(e.books)}</ul>
            <button class="top_list-see_more" data-category="${e.list_name}">See More</button>
        </li>`}function de(e){let t=1;const o=e.filter(s=>s.book_image),l=[];for(let s=0;s<o.length;s++)l.push(o[s]);for(;l.length<5;)l.push(o[l.length%o.length]);const r=l.map(s=>`
        <li class="top_list-card" data-book-sequence-number="${t++}">
            <div class="top_list-book_cover_wrapper" data-bookid="${s._id}">
                <img class="top_list-book_cover" src="${s.book_image}" alt="${s.title}">
            <p class="top_list-quick">QUICK VIEW</p>
                </div>
            
            <h3 class="top_list-book_title">${s.title}</h3>
            <p class="top_list-book_author">${s.author}</p>
        </li>
        `).join("");return t++,r}const ue=function(e){const t=e.target.closest(".top_list-book_cover_wrapper");if(t){const o=t.dataset.bookid;ne(o)}},pe=function(e){if(e.target.classList.contains("top_list-see_more")){i.topListElem.classList.add("hidden"),i.categoryListElem.classList.remove("hidden");const t=e.target.dataset.category;O(t),E(t),S(t)}},me=async function(e){if(e.target.classList.contains("all-categories")&&(i.titleElement.innerHTML="Best Sellers <span>Books</span>",i.categoryListElem.classList.add("hidden"),i.topListElem.classList.remove("hidden"),S("All categories")),e.target.classList.contains("sideCat")){const t=e.target.textContent.trim();O(t),i.categoryListElem.classList.remove("hidden"),i.topListElem.classList.add("hidden"),S(t),await E(t),w(i.categoryListElem);try{await E(t)}finally{_()}}};async function E(e){try{w(i.titleElement),i.categoryListElem.innerHTML="";const t=await J(e);let o="";t.forEach(l=>{o+=`
          <li class="category_list-card">
              <div class="top_list-book_cover_wrapper" data-bookid="${l._id}">
                  <img class="top_list-book_cover" src="${l.book_image}" alt="${l.title}">
              </div>
              <h3 class="top_list-book_title">${l.title}</h3>
              <p class="top_list-book_author">${l.author}</p>
          </li>
          `}),o+='<p class="all_categories"</p>',i.categoryListElem.innerHTML=o}catch(t){console.error("Kategori verisi alınırken hata oluştu:",t),i.categoryListElem.innerHTML="<p>Kitaplar yüklenirken bir hata oluştu.</p>"}finally{_()}}function O(e){i.titleElement.innerHTML="";const t=e.split(" ");if(t.length===1){i.titleElement.textContent=e;return}const o=t.pop();i.titleElement.textContent=t.join(" ");const l=document.createElement("span");l.textContent=" "+o,i.titleElement.appendChild(l)}function S(e){document.querySelectorAll(".ctg").forEach(o=>{o.textContent.trim().toLowerCase()===e.toLowerCase()?o.classList.add("active"):o.classList.remove("active")})}function P(){const e=document.querySelector(".all_categories");if(e){const t=e.getBoundingClientRect(),o=window.innerHeight;t.top<o&&!A&&i.topListElem.classList.contains("hidden")&&(ce(),A=!0)}}let f;window.addEventListener("scroll",function(){f&&clearTimeout(f),f=setTimeout(function(){P()},300)});const U=document.getElementById("scrollToTopBtn");document.body.scrollTop=0;document.documentElement.scrollTop=0;U.addEventListener("click",ge);window.addEventListener("scroll",ye);function ye(){document.body.scrollTop>20||document.documentElement.scrollTop>20?(document.getElementById("scrollToTopBtn").style.display="block",U.classList.remove("btnHidden")):document.getElementById("scrollToTopBtn").style.display="none"}function ge(){window.scrollTo({top:0,behavior:"smooth"})}var he=document.querySelector("div.support-ukr > div.slider-div"),h=document.getElementById("slider");he.addEventListener("click",fe);function fe(){be(),ve()}function ve(){h.src.includes("/slider.svg#slider")?h.src="../img/blocks/sliderUp.svg#sliderUp":h.src="../img/blocks/slider.svg#slider"}function be(){if(h.src.includes("/slider.svg#slider")){var e=document.querySelector("ol.support-list > li:nth-child(1)"),t=document.querySelector("ol.support-list > li:nth-child(2)"),o=document.querySelector("ol.support-list > li:nth-child(3)");e.style.display="none",t.style.display="none",o.style.display="none";var l=document.querySelector("ol.support-list");l.style.counterSet="custom 3";var r=document.querySelector("ol.support-list > li:nth-child(7)"),s=document.querySelector("ol.support-list > li:nth-child(8)"),c=document.querySelector("ol.support-list > li:nth-child(9)");r.style.display="flex",s.style.display="flex",c.style.display="flex";var m=document.querySelectorAll("ol.support-list > li.last3 > a > img ");m.forEach(d=>d.style.position="relative"),m.forEach(d=>d.style.top="0px")}else{var e=document.querySelector("ol.support-list > li:nth-child(1)"),t=document.querySelector("ol.support-list > li:nth-child(2)"),o=document.querySelector("ol.support-list > li:nth-child(3)");e.style.display="",t.style.display="",o.style.display="";var l=document.querySelector("ol.support-list");l.style.counterSet="custom 1";var r=document.querySelector("ol.support-list > li:nth-child(7)"),s=document.querySelector("ol.support-list > li:nth-child(8)"),c=document.querySelector("ol.support-list > li:nth-child(9)");r.style.display="none",s.style.display="none",c.style.display="none"}}
//# sourceMappingURL=index.js.map
