{"version":3,"file":"index.js","sources":["../src/js/all-categories.js","../src/js/booksAPI.js","../src/js/header.js","../src/js/spinner.js","../src/js/modal.js","../src/js/warnings.js","../src/js/main-page.js","../src/js/shopping-page.js","../src/js/support-ukr.js"],"sourcesContent":["const url = 'https://books-backend.p.goit.global/books/category-list';\nfetch(url)\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    data.forEach(cat => {\n        const markup = `<li class=\"ctg\"><a href=\"#\" class='${cat.list_name}'>${cat.list_name}</a></li>`;\n        document.getElementById('categories').insertAdjacentHTML(\"beforeend\", markup);\n    })\n  })\n  .catch(function(error) {\n    console.log(error);\n  });\n\n","import axios from 'axios';\n\nconst BASE_URL = \"https://books-backend.p.goit.global\";\nconst END_POINTS = [\n    \"/books/category-list\",\n    \"/books/top-books\",\n    \"/books/category\",\n    \"/books\",\n];\n\n\n//Belirtilen kategorideki kitapların listesini API' den getiriyor.\nexport async function getCategoryList() {\n    const url = \"${BASE_URL}${END_POINTS[0]}\";\n    try {\n        const response = await axios.get(url);\n        const sortedData = response.data.sort((a, b) =>\n            a.list_name.localeCompare(b.list_name)\n        );\n        return sortedData;\n    } catch (error) {\n        console.error(\"Error fetching category list: \", error);\n        throw error;\n    }\n}\n\n\n//En çok satan kitapları API' den getiriyor.\nexport async function getTopBooks() {\n    const url = `${BASE_URL}${END_POINTS[1]}`;\n    try {\n        const response = await axios.get(url);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching top books: \", error);\n        throw error;\n    }\n}\n\n\n//Belirtilen kategorideki kitapları API' den getiriyor.\nexport async function getBooksByCategory(category) {\n    const url = `${BASE_URL}${END_POINTS[2]}`;\n    const params = {\n        category: category,\n    };\n    try {\n        const response = await axios.get(url, { params });\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching books by category: \", error);\n        throw error;\n    }\n}\n\n\n//Belirtilen ID'ye sahip kitabı API' den getiriyor.\nexport async function getBookById(id) {\n    const url = `${BASE_URL}${END_POINTS[3]}/${id}`;\n    try {\n        const response = await axios.get(url);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching book by ID: \", error);\n        throw error;\n    }\n}\n\n\n//Birden fazla kitabı ID'lerine göre API'den getiriyor.\nexport async function getBookByIds(idsArray) {\n    try {\n        const booksArray = [];\n        for (id of idsArray) {\n            const url = `${BASE_URL}${END_POINTS[3]}/${id}`;\n            const response = await axios.get(url);\n            booksArray.push(response.data);\n        }\n        return booksArray;\n    } catch (error) {\n        console.error(\"Error fetching books by IDs: \", error);\n        throw error;\n    }\n}\n\n\n","var modal = document.getElementById('login-modal');\nvar btn = document.getElementById('btn-sign-up');\nvar span = document.getElementsByClassName('close-modal')[0];\n\nvar submitBtn = document.getElementsByClassName('submit-button')[0];\nvar btnHmbrgr = document.getElementsByClassName('hmbrgr')[0];\n\nbtn.addEventListener('click', btn.onclick);\nbtnHmbrgr.addEventListener('click', btnHmbrgr.onclick);\nsubmitBtn.addEventListener('click', signUp);\n\nbtn.onclick = function () {\n  modal.style.display = 'flex';\n};\nbtnHmbrgr.onclick = function () {\n  modal.style.display = 'flex';\n};\nspan.onclick = function () {\n  modal.style.display = 'none';\n};\nwindow.onclick = function (event) {\n  if (event.target == modal) modal.style.display = 'none';\n};\n\nfunction signUp() {\n  var username = document.getElementById('username').value;\n  var email = document.getElementById('email').value;\n  var password = document.getElementById('password').value;\n\n  if (username && email && password) {\n    alert('Signup Successful!');\n    modal.style.display = 'none';\n  } else {\n    alert('Please fill out all fields.');\n  }\n}\n","import { Spinner } from 'spin.js';\n\nlet opts = {\n    lines: 13,\n    length: 38,\n    width: 17,\n    radius: 45,\n    scale: 1,\n    corners: 1,\n    speed: 1,\n    rotate: 0,\n    animation: 'spinner-line-fade-quick',\n    direction: 1,\n    color: '#ffffff',\n    fadeColor: 'transparent',\n    top: '50%',\n    left: '50%',\n    shadow: '0 0 1px transparent',\n    zIndex: 2000000000,\n    className: 'spinner',\n    position: 'absolute',\n};\n\nconst spinner = new Spinner(opts);\n\nexport const spinnerPlay = containerRef => {\n  spinner.spin(containerRef);\n};\n\nexport const spinnerStop = () => {\n  spinner.stop();\n};","\n\n// Modal elementlerini seç\nconst modal = document.getElementById('bookModal');\nconst closeModal = document.querySelector('.close');\nconst modalImage = document.querySelector('.modalImage');\nconst modalTitle = document.querySelector('.modalTitle');\nconst modalAuthor = document.querySelector('.modalAuthor');\nconst modalDescription = document.querySelector('.modalDescription');\nconst modalBuyLinks = document.querySelector('.modalBuyLinks');\nconst addToShoppingList = document.querySelector('.addToShoppingList');\nconst removeFromShoppingList = document.querySelector(\n  '.removeFromShoppingList'\n);\n\nconst feedbackDiv = document.querySelector(\".feedback-div\");\n\n// LocalStorage'dan alışveriş listesini al\nlet shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\nlet currentBookId = null;\n\n// Logo eşleştirme için bir nesne\nconst storeLogos = {\n  Amazon: '../img/png/Amazon_logo.png',\n  'Apple Books': '../img/png/apple-books.png',\n  'Barnes and Noble': '../img/png/barnes-noblepng.png',\n  'Books-A-Million': '../img/png//books-a-million.png',\n  Bookshop: '../img/png/bookshop.png',\n  IndieBound: '../img/png/indie-bound.png',\n};\n\n// Modalı açma fonksiyonu\nexport async function onOpenModal(bookId) {\n  currentBookId = bookId;\n  try {\n    const bookData = await fetchBookDetails(bookId);\n    if (bookData) {\n      modalImage.src = bookData.book_image;\n      modalTitle.textContent = bookData.title;\n      modalAuthor.textContent = `Yazar: ${bookData.author}`;\n      modalDescription.textContent =\n        bookData.description || 'Açıklama mevcut değil.';\n\n      modalBuyLinks.innerHTML = bookData.buy_links\n        .map(link => {\n          const logo = storeLogos[link.name] || './images/default-logo.png';\n          return `<li><a href=\"${link.url}\" target=\"_blank\"><img src=\"${logo}\" alt=\"${link.name}\" style=\"width: 40px; height: auto; margin-right: 10px;\"></a></li>`;\n        })\n        .join('');\n    }\n    updateButtonState(bookId);\n    modal.style.display = 'block';\n  } catch (error) {\n    console.error('Kitap bilgileri yüklenirken hata oluştu:', error);\n  }\n}\n\n// Kitap bilgilerini API'den çekme fonksiyonu\nasync function fetchBookDetails(bookId) {\n  try {\n    const response = await fetch(\n      `https://books-backend.p.goit.global/books/${bookId}`\n    );\n    if (!response.ok) throw new Error('Kitap bilgisi getirilemedi.');\n    return await response.json();\n  } catch (error) {\n    console.error('API hatası:', error);\n    return null;\n  }\n}\n\n// Butonların durumunu güncelleme\nfunction updateButtonState(bookId) {\n  if (shoppingList.includes(bookId)) {\n    addToShoppingList.style.display = 'none';\n    removeFromShoppingList.style.display = 'block';\n  } else {\n    addToShoppingList.style.display = 'block';\n    removeFromShoppingList.style.display = 'none';\n  }\n}\n\n// Kitabı alışveriş listesine ekleme\naddToShoppingList.addEventListener('click', () => {\n  if (!shoppingList.includes(currentBookId)) {\n    shoppingList.push(currentBookId);\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n   \n  }\n  updateButtonState(currentBookId);\n  feedbackDiv.style.display = \"block\";\n \n});\n\n// Kitabı alışveriş listesinden çıkarma\nremoveFromShoppingList.addEventListener('click', () => {\n  shoppingList = shoppingList.filter(id => id !== currentBookId);\n  localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n  updateButtonState(currentBookId);\n  feedbackDiv.style.display = \"none\";\n});\n\n// Modalı kapatma işlemi\ncloseModal.addEventListener('click', () => {\n  modal.style.display = 'none';\n});\n\n// Modal dışında bir yere tıklanınca kapatma\nwindow.addEventListener('click', event => {\n  if (event.target === modal) {\n    modal.style.display = 'none';\n  }\n});","import iziToast from 'izitoast';\n\nexport function showNoBooksAlert() {\n  iziToast.show({\n    message: 'There are no more books in this category',\n    position: 'topRight',\n    backgroundColor: '#EAC645',\n  });\n}","import { getTopBooks, getBooksByCategory } from './booksAPI.js';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\n import { onOpenModal } from './modal.js';\nimport { showNoBooksAlert } from './warnings.js';\n\nconst references = {\n  topListElem: document.querySelector('#topList'),\n  categoryListElem: document.querySelector('#categoryList'),\n  titleElement: document.querySelector('.top_list-title'),\n  allCategoriesElement: document.querySelector('#categories'),\n};\n\nlet noBooksAlertShow = false;\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  document.addEventListener('click', clickSeeMore); //See More butonuna tıklanınca ilgili kategoriye ait kitapları gösterir.\n  document.addEventListener('click', clickByBook); //Bir kitap kartına tıklanınca detaylarını gösteren modal açar.\n  document.addEventListener('click', clickByAllCategories); //Bir kategoriye tıklanınca bu kategorinin kitapları gösterir.\n  window.addEventListener('scroll', scrollHandler); //Sayfanın en altına kaydırıldığında kategorinin boş olup olmadığını kontrol eder.\n});\n\n//En Çok Satanlar Listesini Getirme\ndocument.addEventListener('DOMContentLoaded', async function () {\n  spinnerPlay(references.titleElement);\n  references.topListElem.innerHTML = '';\n  const topListData = getTopBooks();\n  const topList = await topListData;\n  let html = '';\n  topList.forEach(elem => {\n    html += renderTopList(elem);\n  });\n  references.topListElem.innerHTML = html;\n  spinnerStop();\n});\n\n//En Çok Satanlar Listesini Renderleme\nfunction renderTopList(elem) {\n  return `<li class=\"top_list-container\">\n            <h2 class=\"top_list-category_name\">${elem.list_name}</h2>\n            <ul class=\"top_list-cards\">${renderBooks(elem.books)}</ul>\n            <button class=\"top_list-see_more\" data-category=\"${\n              elem.list_name\n            }\">See More</button>\n        </li>`;\n}\n\n//Kitap kartlarının oluşturulması (kapak, başlık ve yazar ismi)\nfunction renderBooks(books) {\n  let i = 1;\n  const bookHtml = books\n    .map(\n      book => `\n        <li class=\"top_list-card\" data-book-sequence-number=\"${i++}\">\n            <div class=\"top_list-book_cover_wrapper\" data-bookid=\"${book._id}\">\n                <img class=\"top_list-book_cover\" src=\"${\n                  book.book_image\n                }\" alt=\"${book.title}\">\n            <p class=\"top_list-quick\">QUICK VIEW</p>\n                </div>\n            \n            <h3 class=\"top_list-book_title\">${book.title}</h3>\n            <p class=\"top_list-book_author\">${book.author}</p>\n        </li>\n        `\n    )\n    .join('');\n  i++;\n  return bookHtml;\n}\n\nconst clickByBook = function (event) {\n  const bookWrapper = event.target.closest('.top_list-book_cover_wrapper');\n  if (bookWrapper) {\n    const bookId = bookWrapper.dataset.bookid;\n    onOpenModal(bookId); //Kitap ID' si ile birlikte modal açma fonksiyonunu çalıştırır.\n  }\n};\n\nconst clickSeeMore = function (event) {\n  if (event.target.classList.contains('top_list-see_more')) {\n    references.topListElem.classList.add('hidden'); //Üst kısımdaki kitap listesi gizlenir.\n    references.categoryListElem.classList.remove('hidden'); //Kategorilerin bulunduğu liste alanı gösterilir.\n    const category = event.target.dataset.category;\n    titleCategory(category); //Seçilen kategorinin başlığını değiştirir.\n    categoryList(category); //Seçilen kategoriye ait kitapları getirip listeler.\n    allCategoriesActive(category); //Seçilen kategoriyi aktif hale getirir. Görsel vurgulama ekler.\n  }\n};\n\nconst clickByAllCategories = async function (event) {\n  if (event.target.classList.contains('all_categories')) { //All Kategories butonuna tıklandığında;\n    references.titleElement.innerHTML = 'Best Sellers <span>Books</span>';\n    references.categoryListElem.classList.add('hidden');\n    references.topListElem.classList.remove('hidden');\n    allCategoriesActive('All categories');\n  }\n  if (event.target.classList.contains('...')) { //Kategori listesine (bağlantısına) tıklandığında;\n    references.titleElement.innerHTML = category; //Başlığı kategori adı ile değiştirir.\n    references.categoryListElem.classList.remove('hidden');\n    references.topListElem.classList.add('hidden');\n    allCategoriesActive(category);\n    await categoryList(category); //Seçilen kategoriye ait kitapları getirir.\n  }\n};\n\n//Kategoriye Ait Kitapların Listesini Getirme\nasync function categoryList(category) {\n  try {\n    spinnerPlay(references.titleElement);\n    references.categoryListElem.innerHTML = '';\n\n    const categoryData = await getBooksByCategory(category);\n    let html = '';\n\n    categoryData.forEach(book => {\n      html += `\n          <li class=\"category_list-card\">\n              <div class=\"top_list-book_cover_wrapper\" data-bookid=\"${book._id}\">\n                  <img class=\"top_list-book_cover\" src=\"${book.book_image}\" alt=\"${book.title}\">\n              </div>\n              <h3 class=\"top_list-book_title\">${book.title}</h3>\n              <p class=\"top_list-book_author\">${book.author}</p>\n          </li>\n          `;\n    });\n\n    html += `<li><button class=\"all_categories\">All Categories</button></li>`;\n    references.categoryListElem.innerHTML = html;\n  } catch (error) {\n    console.error('Kategori verisi alınırken hata oluştu:', error);\n    references.categoryListElem.innerHTML =\n      '<p>Kitaplar yüklenirken bir hata oluştu.</p>';\n  } finally {\n    spinnerStop();\n  }\n}\n\n//Seçilen kategori adını sayfa başlığı olarak gösterir.\nfunction titleCategory(category) {\n  references.titleElement.innerHTML = '';\n\n  const words = category.split(' ');\n  if (words.length === 1) {\n    references.titleElement.textContent = category;\n    return;\n  }\n\n  const lastWord = words.pop();\n  references.titleElement.textContent = words.join(' ');\n\n  const spanElement = document.createElement('span');\n  spanElement.textContent = ' ' + lastWord;\n  references.titleElement.appendChild(spanElement);\n}\n\n//Seçilen kategori aktif olur.\nfunction allCategoriesActive(category) {\n  document.querySelectorAll('...'); // Tüm kategori bağlantılarını seçer.\n\n  references.allCategoriesElement.forEach(link => {\n    if (link.textContent.trim() === category) {\n      link.classList.add('active');\n    } else {\n      link.classList.remove('active');\n    }\n  });\n}\n\n//Sayfa en alta kaydırıldığında seçilen kategoriye ait kitap yoksa bu kategoride kitap bulunmamaktadır uyarısı verir.\nfunction scrollHandler() {\n  const allCategoriesButton = document.querySelector('.all_categories');\n  if (allCategoriesButton) {\n    const allCatBtnPosition = allCategoriesButton.getBoundingClientRect(); //Butonun konumu alınır.\n    const windowHeight = window.innerHeight; //Kullanıcının görünür pencere yükseliğini alır.\n\n    if (\n      allCatBtnPosition.top < windowHeight &&\n      !noBooksAlertShow &&\n      references.topListElem.classList.contains('hidden')\n    ) {\n      showNoBooksAlert();\n      noBooksAlertShow = true;\n    }\n  }\n}\n\n//Sayfanın en alta gelip gelmediğini kontrol eder ve uyarı mesajı gösterir.\nlet scrollTimeout;\n\nwindow.addEventListener('scroll', function () {\n  if (scrollTimeout) {\n    clearTimeout(scrollTimeout);\n  }\n\n  scrollTimeout = setTimeout(function () {\n    scrollHandler();\n  }, 300);\n});\n","import { getBookById, getBookByIds } from './booksAPI.js';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // header.html'i yükle\n  fetch('../partials/header.html')\n    .then(response => response.text())\n    .then(data => {\n      document.getElementById('header-placeholder').innerHTML = data;\n    })\n    .catch(error => console.error('Header yüklenirken hata oluştu:', error));\n\n  // support-ukr.html'i yükle\n  fetch('../partials/support-ukr.html')\n    .then(response => response.text())\n    .then(data => {\n      document.getElementById('support-ukr-placeholder').innerHTML = data;\n    })\n    .catch(error =>\n      console.error('Support-ukr yüklenirken hata oluştu:', error)\n    );\n});\n\nconst savedBooks = JSON.parse(localStorage.getItem('shoppingList')) || [];\n\nasync function fetchBooks() {\n  const booksContainer = document.getElementById('book-container');\n  const emptyListMessage = document.querySelector('.empty-list');\n\n  if (savedBooks.length === 0) {\n    emptyListMessage.style.display = 'block'; // Boş liste mesajını göster\n    booksContainer.innerHTML = ''; // Kitap listesini temizle\n    return;\n  } else {\n    emptyListMessage.style.display = 'none'; // Boş liste mesajını gizle\n  }\n\n  booksContainer.innerHTML = ''; // Önce kitapları temizleyelim\n\n  try {\n    const books = await getBookByIds(savedBooks); // API’den kitapları çek\n\n    books.forEach(book => {\n      const bookCard = document.createElement('div');\n      bookCard.classList.add('book-card');\n\n      bookCard.innerHTML = `\n          <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-cover\">\n          <div class=\"book-info\">\n            <h3>${book.title}</h3>\n            <p class=\"category\">${book.list_name}</p>\n            <p class=\"description\">${book.description}</p>\n            <p class=\"author\">By: ${book.author}</p>\n            <a href=\"${book.buy_links[0].url}\" target=\"_blank\" class=\"buy-button\">Buy</a>\n            <button class=\"delete-btn\" data-id=\"${book._id}\">🗑 Remove</button>\n          </div>\n        `;\n\n      booksContainer.appendChild(bookCard);\n    });\n  } catch (error) {\n    console.error('Error', error);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', fetchBooks);\n\ndocument\n  .getElementById('book-container')\n  .addEventListener('click', function (event) {\n    if (event.target.classList.contains('delete-btn')) {\n      const bookId = event.target.dataset.id;\n\n      // LocalStorage'dan kaldır\n      let savedBooks = JSON.parse(localStorage.getItem('shoppingList')) || [];\n      savedBooks = savedBooks.filter(id => id !== bookId);\n      localStorage.setItem('shoppingList', JSON.stringify(savedBooks));\n\n      // Kitap listesini güncelle\n      fetchBooks();\n    }\n  });\n\nconst pagination = document.querySelector('.pagination');\n\nif (savedBooks.length === 0) {\n  pagination.style.display = 'none';\n} else {\n  pagination.style.display = 'flex';\n}\n","var slider = document.querySelector(\n  'div.support-ukr > div.slider-div'\n);\nvar icon = document.getElementById(\"slider\");\n\n\nslider.addEventListener(\"click\", slide);\n\n\nfunction slide() {\n    showHide3();\n    changeIcon();\n}\nfunction changeIcon() {\n    if (icon.src.includes(\"/slider.svg#slider\")) {\n        icon.src = \"../img/blocks/sliderUp.svg#sliderUp\";\n    } else {\n        icon.src = \"../img/blocks/slider.svg#slider\";\n    }\n}\nfunction showHide3() {\n    if (icon.src.includes(\"/slider.svg#slider\")) {\n    var ind1 = document.querySelector(\"ol.support-list > li:nth-child(1)\");\n    var ind2 = document.querySelector(\"ol.support-list > li:nth-child(2)\");\n    var ind3 = document.querySelector(\"ol.support-list > li:nth-child(3)\");\n    ind1.style.display = \"none\";\n    ind2.style.display = \"none\";\n    ind3.style.display = \"none\";\n    var ol = document.querySelector(\"ol.support-list\");\n    ol.style.counterSet = \"custom 3\";\n    var ind7 = document.querySelector(\"ol.support-list > li:nth-child(7)\");\n    var ind8 = document.querySelector(\"ol.support-list > li:nth-child(8)\");\n    var ind9 = document.querySelector(\"ol.support-list > li:nth-child(9)\");\n    ind7.style.display = \"flex\";\n    ind8.style.display = \"flex\";\n    ind9.style.display = \"flex\";\n    }\n    else {\n        var ind1 = document.querySelector(\"ol.support-list > li:nth-child(1)\");\n        var ind2 = document.querySelector(\"ol.support-list > li:nth-child(2)\");\n        var ind3 = document.querySelector(\"ol.support-list > li:nth-child(3)\");\n        ind1.style.display = \"flex\";\n        ind1.style.position = \"relative\";\n        ind1.style.top = \"-10px\";\n        ind2.style.display = \"flex\";\n        ind3.style.display = \"flex\";\n        var ol = document.querySelector(\"ol.support-list\");\n        ol.style.counterSet = \"custom 1\";\n        var ind7 = document.querySelector(\"ol.support-list > li:nth-child(7)\");\n        var ind8 = document.querySelector(\"ol.support-list > li:nth-child(8)\");\n        var ind9 = document.querySelector(\"ol.support-list > li:nth-child(9)\");\n        ind7.style.display = \"none\";\n        ind8.style.display = \"none\";\n        ind9.style.display = \"none\";    \n    }\n\n} "],"names":["url","response","data","cat","markup","error","BASE_URL","END_POINTS","getTopBooks","axios","getBooksByCategory","category","params","getBookByIds","idsArray","booksArray","modal","btn","span","submitBtn","btnHmbrgr","signUp","event","username","email","password","opts","spinner","Spinner","spinnerPlay","containerRef","spinnerStop","closeModal","modalImage","modalTitle","modalAuthor","modalDescription","modalBuyLinks","addToShoppingList","removeFromShoppingList","feedbackDiv","shoppingList","currentBookId","storeLogos","onOpenModal","bookId","bookData","fetchBookDetails","link","logo","updateButtonState","id","showNoBooksAlert","iziToast","references","noBooksAlertShow","clickSeeMore","clickByBook","clickByAllCategories","scrollHandler","topList","html","elem","renderTopList","renderBooks","books","i","bookHtml","book","bookWrapper","titleCategory","categoryList","allCategoriesActive","categoryData","words","lastWord","spanElement","allCategoriesButton","allCatBtnPosition","windowHeight","scrollTimeout","savedBooks","fetchBooks","booksContainer","emptyListMessage","bookCard","pagination","slider","icon","slide","showHide3","changeIcon","ind1","ind2","ind3","ol","ind7","ind8","ind9"],"mappings":"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"}