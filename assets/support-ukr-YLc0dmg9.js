import{a as T,S as X}from"./vendor-C2dPOmMF.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();const A="https://books-backend.p.goit.global",F=["/books/category-list","/books/top-books","/books/category","/books"];async function we(){const t=`${A}${F[1]}`;try{return(await T.get(t)).data}catch(e){throw console.error("Error fetching top books: ",e),e}}async function Le(t){const e=`${A}${F[2]}`,o={category:t};try{return(await T.get(e,{params:o})).data}catch(r){throw console.error("Error fetching books by category: ",r),r}}async function Z(t){try{const e=[];for(let o of t){const r=`${A}${F[3]}/${o}`,n=await T.get(r);e.push(n.data)}return e}catch(e){throw console.error("Error fetching books by IDs: ",e),e}}const S=document.getElementById("bookModal"),ee=document.querySelector(".close"),te=document.querySelector(".modalImage"),N=document.querySelector(".modalTitle"),O=document.querySelector(".modalAuthor"),H=document.querySelector(".modalDescription"),oe=document.querySelector(".modalBuyLinks"),p=document.querySelector(".addToShoppingList"),g=document.querySelector(".removeFromShoppingList"),K=document.querySelector(".feedback-div"),R=document.querySelector(".feedback-text"),b=document.querySelector(".modal-content"),W=document.querySelector(".close");let y=JSON.parse(localStorage.getItem("shoppingList"))||[],f=null;const ne={Amazon:"../img/png/Amazon_logo.png","Apple Books":"../img/png/apple-books.png","Barnes and Noble":"../img/png/barnes-noblepng.png","Books-A-Million":"../img/png//books-a-million.png",Bookshop:"../img/png/bookshop.png",IndieBound:"../img/png/indie-bound.png"};async function qe(t){f=t;try{const e=await re(t);e&&(te.src=e.book_image,N.textContent=e.title,O.textContent=`Yazar: ${e.author}`,H.textContent=e.description||"Açıklama mevcut değil.",oe.innerHTML=e.buy_links.map(o=>{const r=ne[o.name]||"./images/default-logo.png";return`<li><a href="${o.url}" target="_blank"><img src="${r}" alt="${o.name}" style="width: 40px; height: auto; margin-right: 10px;"></a></li>`}).join("")),P(t),S.style.display="block",document.body.style.overflow="hidden",document.body.classList.contains("dark-mode")&&Y()}catch(e){console.error("Kitap bilgileri yüklenirken hata oluştu:",e)}}async function re(t){try{const e=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!e.ok)throw new Error("Kitap bilgisi getirilemedi.");return await e.json()}catch(e){return console.error("API hatası:",e),null}}function P(t){y.includes(t)?(p.style.display="none",g.style.display="block"):(p.style.display="block",g.style.display="none")}p.addEventListener("click",()=>{y.includes(f)||(y.push(f),localStorage.setItem("shoppingList",JSON.stringify(y))),P(f),K.style.display="block"});g.addEventListener("click",()=>{y=y.filter(t=>t!==f),localStorage.setItem("shoppingList",JSON.stringify(y)),P(f),K.style.display="none"});ee.addEventListener("click",()=>{S.style.display="none",document.body.style.overflow="visible"});window.addEventListener("click",t=>{t.target===S&&(S.style.display="none",document.body.style.overflow="visible")});document.addEventListener("keydown",function(t){t.key==="Escape"&&(S.style.display="none",document.body.style.overflow="visible")});function Y(){b.style.background="black",b.style.color="white",b.style.border="1px solid white",N.style.color="white",O.style.color="white",H.style.color="white",W.style.color="white",R.style.color="white",p.style.background="black",p.style.color="white",g.style.background="black",g.style.color="white"}function le(){b.style.background="",b.style.color="",b.style.border="",N.style.color="",O.style.color="",H.style.color="",W.style.color="",R.style.color="",p.style.background="",p.style.color="",g.style.background="",g.style.color=""}var m=document.getElementById("login-modal"),v=document.getElementById("btn-sign-up"),se=document.querySelector("svg.btn-sign-up"),ie=document.getElementsByClassName("close-modal")[0],ce=document.getElementsByClassName("submit-button")[0],B=document.getElementsByClassName("hmbrgr")[0],ae=document.querySelector("div.right-container > a.switcher-2"),C=document.querySelector("#window-sign-in"),$=document.querySelector("#window-sign-up"),E=document.querySelector("a#btn-sign-up"),I=document.querySelector("a#btn-sign-out");const U=function(){m.style.display="flex"};v.addEventListener("click",U);B.addEventListener("click",B.onclick);ce.addEventListener("click",de);ae.addEventListener("click",ue);C.addEventListener("click",C.onclick);$.addEventListener("click",$.onclick);I.addEventListener("click",pe);B.onclick=function(){m.style.display="flex"};ie.onclick=function(){m.style.display="none"};window.onclick=function(t){t.target==m&&(m.style.display="none")};C.onclick=function(){var t=document.querySelector("#username"),e=document.querySelector("#window-sign-up"),o=document.querySelector("#window-sign-in"),r=document.querySelector("button.submit-button");t.style.display="none",e.style.textDecoration="none",e.style.color="#111111",o.style.textDecoration="underline",o.style.color="var(--violet)",r.textContent="SIGN IN"};$.onclick=function(){var t=document.querySelector("#username"),e=document.querySelector("#window-sign-up"),o=document.querySelector("#window-sign-in"),r=document.querySelector("button.submit-button");t.style.display="",e.style.textDecoration="underline",e.style.color="var(--violet)",o.style.textDecoration="none",o.style.color="#111111",r.textContent="SIGN UP"};function de(){var t=document.getElementById("username").value,e=document.getElementById("email").value,o=document.getElementById("password").value,r=document.querySelector("button.submit-button"),n=document.querySelector("form#sign-up-form");const l=JSON.parse(localStorage.getItem("users"))||[];if(r.textContent==="SIGN UP")if(!t||!e||!o){alert("Please fill out all fields.");return}else l.push({username:t,email:e,password:o}),localStorage.setItem("users",JSON.stringify(l)),alert("Signup Successful!"),m.style.display="none",n.reset();else{const s=l.find(d=>d.email===e);s==null||s.password!==o?alert("Password does not match or user does not exist!"):(alert("Signin successful!"),m.style.display="none",se.style.display="none",ye(s.username),v.removeEventListener("click",U),v.addEventListener("click",Q),n.reset())}}function ue(){var t=document.querySelector("svg.swicther-2-svg"),e=document.querySelector("header.header"),o=document.querySelector("svg.nav-logo-txt"),r=document.querySelector("svg.hmbrgr-menu"),n=document.querySelector("a.nav-link.shopping-list"),l=document.querySelector("svg.lock-02"),s=document.querySelector("body"),d=document.querySelectorAll("ul#categories > li.ctg"),h=document.querySelector(".top_list-title"),_=document.querySelectorAll(".top_list-book_title "),D=document.querySelectorAll(".top_list-see_more"),J=document.querySelector(".modal-signUp"),z=document.querySelectorAll(".login-form form input"),L=document.querySelector(".login-form button"),j=document.querySelectorAll("div.modal-window > a"),G=document.querySelector("div.close-modal");t.innerHTML.includes("Switcher-2@2x.svg#switcher2")?(Y(),t.innerHTML='<use href="../img/SwitcherDark@2x.svg#switcherDark"></use>',e.style.backgroundColor="var(--black)",e.style.border=" 1.5px solid #FFFFFF",o.style.filter="brightness(0) invert(1)",r.style.filter="brightness(0) invert(1)",n.style.color="var(--white)",l.style.filter="brightness(0) invert(1)",s.style.backgroundColor="var(--black)",s.classList.add("dark-mode"),d.forEach(i=>{i.style.color="#FFFFFF"}),h.style.color="var(--white)",_.forEach(i=>{i.style.color="var(--white)"}),D.forEach(i=>{i.style.color="var(--white)"}),J.style.backgroundColor="var(--black)",z.forEach(i=>{i.style.backgroundColor="var(--black)",i.classList.add("dark-mode")}),L.style.backgroundColor="var(--white)",L.style.color="var(--black)",j.forEach(i=>{i.style.color="var(--white)"}),G.style.color="var(--white)"):(le(),t.innerHTML='<use href="../img/Switcher-2@2x.svg#switcher2"></use>',e.style.backgroundColor="var(--white)",e.style.border=" 1.5px solid #111111",o.style.filter="",r.style.filter="",n.style.color="var(--black)",l.style.filter="",s.style.backgroundColor="var(--white)",s.classList.remove("dark-mode"),d.forEach(i=>{i.style.color="#111111"}),h.style.color="var(--black)",_.forEach(i=>{i.style.color="var(--black)"}),D.forEach(i=>{i.style.color="var(--black)"}),J.style.backgroundColor="#F6F6F6",z.forEach(i=>{i.style.backgroundColor="#F6F6F6",i.classList.remove("dark-mode")}),L.style.backgroundColor="#111111",L.style.color="var(--white)",j.forEach(i=>{i.style.color="var(--black)"}),G.style.color="var(--black)")}function ye(t){var e=`<div class='signed-in'><img src='/img/Stephen.png' width=37 height= 37 alt='Stephen'/>
                    <p>${t}</p>
                    <svg class="sign-out btn-sign-out" width="23" height="26">
                       <use href="img/drop-down.svg#drop-down"></use>
                    </svg>
                </div>`;E.insertAdjacentHTML("beforeend",e)}function Q(){I.style.display="block",I.insertAdjacentElement("afterend",E)}function pe(){I.style.display="none",E.firstElementChild.style.display="flex",E.firstElementChild.nextElementSibling.style.display="none",v.style.display="flex",v.removeEventListener("click",Q),v.addEventListener("click",U)}let a=JSON.parse(localStorage.getItem("shoppingList"))||[];const k=document.getElementById("book-container"),x=document.querySelector(".empty-list");let w=4,c=1;async function u(){if(a.length===0){x.style.display="block",k.innerHTML="",M();return}else x.style.display="none";k.innerHTML="";const t=a.filter(e=>e!=null&&e!=="");if(t.length===0){x.style.display="block",k.innerHTML="",M();return}try{const e=await Z(t);ge(e),M()}catch(e){console.error("Error",e)}}function ge(t){k.innerHTML="";const e=(c-1)*w,o=e+w;t.slice(e,o).forEach((n,l)=>{const s=document.createElement("div");s.classList.add("book-card"),s.setAttribute("data-index",l+1),s.innerHTML=`
      <img src="${n.book_image}" alt="${n.title}" class="book-cover">
      <div class="book-info">
        <button class="delete-btn" data-id="${n._id}">&#128465;</button>
        <h3>${n.title}</h3>
        <p class="category">${n.list_name}</p>
        <p class="description">${n.description}</p>
        <p class="author">${n.author}</p>
        <a href="${n.buy_links[0].url}" target="_blank" class="buy-button"><img src="../img/png/Amazon_logo.png" alt="icon" class="amazon-icon"></a>
      </div>
    `,k.appendChild(s)})}function M(){const t=Math.ceil(a.length/w),e=document.getElementById("pagination-container");if(e.innerHTML="",!(t<=1)){e.innerHTML+=`
    <button class="pagination-btn first-page" ${c===1?"disabled":""}>⏮</button>
  `,e.innerHTML+=`
    <button class="pagination-btn prev-page" ${c===1?"disabled":""}>◀</button>
  `;for(let o=Math.max(1,c-2);o<=Math.min(t,c+2);o++)e.innerHTML+=`
      <button class="pagination-btn page-number ${o===c?"active":""}" data-page="${o}">${o}</button>
    `;e.innerHTML+=`
    <button class="pagination-btn next-page" ${c===t?"disabled":""}>▶</button>
  `,e.innerHTML+=`
    <button class="pagination-btn last-page" ${c===t?"disabled":""}>⏭</button>
  `}}document.addEventListener("click",function(t){t.target.classList.contains("page-number")?(c=parseInt(t.target.dataset.page),u()):t.target.classList.contains("first-page")?(c=1,u()):t.target.classList.contains("prev-page")?c>1&&(c--,u()):t.target.classList.contains("next-page")?c<Math.ceil(a.length/w)&&(c++,u()):t.target.classList.contains("last-page")&&(c=Math.ceil(a.length/w),u())});document.addEventListener("DOMContentLoaded",u);document.getElementById("book-container").addEventListener("click",function(t){if(t.target.classList.contains("delete-btn")){const e=t.target.dataset.id;a=a.filter(o=>o!==e),me(a),u()}});function me(t){localStorage.setItem("shoppingList",JSON.stringify(t))}let he={lines:12,length:30,width:15,radius:45,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#EAC645",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"};const V=new X(he),Ee=t=>{V.spin(t)},Ie=()=>{V.stop()};var be=document.querySelector("div.support-ukr > div.slider-div"),q=document.getElementById("slider");be.addEventListener("click",fe);function fe(){ke(),ve()}function ve(){q.src.includes("/slider.svg#slider")?q.src="../img/blocks/sliderUp.svg#sliderUp":q.src="../img/blocks/slider.svg#slider"}function ke(){if(q.src.includes("/slider.svg#slider")){var t=document.querySelector("ol.support-list > li:nth-child(1)"),e=document.querySelector("ol.support-list > li:nth-child(2)"),o=document.querySelector("ol.support-list > li:nth-child(3)");t.style.display="none",e.style.display="none",o.style.display="none";var r=document.querySelector("ol.support-list");r.style.counterSet="custom 3";var n=document.querySelector("ol.support-list > li:nth-child(7)"),l=document.querySelector("ol.support-list > li:nth-child(8)"),s=document.querySelector("ol.support-list > li:nth-child(9)");n.style.display="flex",l.style.display="flex",s.style.display="flex";var d=document.querySelectorAll("ol.support-list > li.last3 > a > img ");d.forEach(h=>h.style.position="relative"),d.forEach(h=>h.style.top="0px")}else{var t=document.querySelector("ol.support-list > li:nth-child(1)"),e=document.querySelector("ol.support-list > li:nth-child(2)"),o=document.querySelector("ol.support-list > li:nth-child(3)");t.style.display="",e.style.display="",o.style.display="";var r=document.querySelector("ol.support-list");r.style.counterSet="custom 1";var n=document.querySelector("ol.support-list > li:nth-child(7)"),l=document.querySelector("ol.support-list > li:nth-child(8)"),s=document.querySelector("ol.support-list > li:nth-child(9)");n.style.display="none",l.style.display="none",s.style.display="none"}}export{Ie as a,Le as b,we as g,qe as o,Ee as s};
//# sourceMappingURL=support-ukr-YLc0dmg9.js.map
