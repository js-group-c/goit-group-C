import{a as L,S as G}from"./vendor-C2dPOmMF.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const x="https://books-backend.p.goit.global",I=["/books/category-list","/books/top-books","/books/category","/books"];async function ye(){const t=`${x}${I[1]}`;try{return(await L.get(t)).data}catch(e){throw console.error("Error fetching top books: ",e),e}}async function pe(t){const e=`${x}${I[2]}`,r={category:t};try{return(await L.get(e,{params:r})).data}catch(l){throw console.error("Error fetching books by category: ",l),l}}async function me(t){try{const e=[];for(let r of t){const l=`${x}${I[3]}/${r}`,o=await L.get(l);e.push(o.data)}return e}catch(e){throw console.error("Error fetching books by IDs: ",e),e}}const h=document.getElementById("bookModal"),K=document.querySelector(".close"),R=document.querySelector(".modalImage"),B=document.querySelector(".modalTitle"),C=document.querySelector(".modalAuthor"),F=document.querySelector(".modalDescription"),W=document.querySelector(".modalBuyLinks"),d=document.querySelector(".addToShoppingList"),u=document.querySelector(".removeFromShoppingList"),P=document.querySelector(".feedback-div"),_=document.querySelector(".feedback-text"),m=document.querySelector(".modal-content"),H=document.querySelector(".close");let a=JSON.parse(localStorage.getItem("shoppingList"))||[],g=null;const Y={Amazon:"img/png/Amazon_logo.png","Apple Books":"img/png/apple-books.png","Barnes and Noble":"img/png/barnes-noblepng.png","Books-A-Million":"img/png//books-a-million.png",Bookshop:"img/png/bookshop.png",IndieBound:"img/png/indie-bound.png"};async function ge(t){g=t;try{const e=await Q(t);e&&(R.src=e.book_image,B.textContent=e.title,C.textContent=`Yazar: ${e.author}`,F.textContent=e.description||"Açıklama mevcut değil.",W.innerHTML=e.buy_links.map(r=>{const l=Y[r.name]||"./images/default-logo.png";return`<li><a href="${r.url}" target="_blank"><img src="${l}" alt="${r.name}" style="width: 40px; height: auto; margin-right: 10px;"></a></li>`}).join("")),A(t),h.style.display="block",document.body.style.overflow="hidden",document.body.classList.contains("dark-mode")&&J()}catch(e){console.error("Kitap bilgileri yüklenirken hata oluştu:",e)}}async function Q(t){try{const e=await fetch(`https://books-backend.p.goit.global/books/${t}`);if(!e.ok)throw new Error("Kitap bilgisi getirilemedi.");return await e.json()}catch(e){return console.error("API hatası:",e),null}}function A(t){a.includes(t)?(d.style.display="none",u.style.display="block"):(d.style.display="block",u.style.display="none")}d.addEventListener("click",()=>{a.includes(g)||(a.push(g),localStorage.setItem("shoppingList",JSON.stringify(a))),A(g),P.style.display="block"});u.addEventListener("click",()=>{a=a.filter(t=>t!==g),localStorage.setItem("shoppingList",JSON.stringify(a)),A(g),P.style.display="none"});K.addEventListener("click",()=>{h.style.display="none",document.body.style.overflow="visible"});window.addEventListener("click",t=>{t.target===h&&(h.style.display="none",document.body.style.overflow="visible")});document.addEventListener("keydown",function(t){t.key==="Escape"&&(h.style.display="none",document.body.style.overflow="visible")});function J(){m.style.background="black",m.style.color="white",m.style.border="1px solid white",B.style.color="white",C.style.color="white",F.style.color="white",H.style.color="white",_.style.color="white",d.style.background="black",d.style.color="white",u.style.background="black",u.style.color="white"}function V(){m.style.background="",m.style.color="",m.style.border="",B.style.color="",C.style.color="",F.style.color="",H.style.color="",_.style.color="",d.style.background="",d.style.color="",u.style.background="",u.style.color=""}var y=document.getElementById("login-modal"),v=document.getElementById("btn-sign-up"),X=document.querySelector("svg.btn-sign-up"),Z=document.getElementsByClassName("close-modal")[0],ee=document.getElementsByClassName("submit-button")[0],w=document.getElementsByClassName("hmbrgr")[0],te=document.querySelector("div.right-container > a.switcher-2"),q=document.querySelector("#window-sign-in"),E=document.querySelector("#window-sign-up"),k=document.querySelector("a#btn-sign-up"),S=document.querySelector("a#btn-sign-out");const N=function(){y.style.display="flex"};v.addEventListener("click",N);w.addEventListener("click",w.onclick);ee.addEventListener("click",oe);te.addEventListener("click",re);q.addEventListener("click",q.onclick);E.addEventListener("click",E.onclick);S.addEventListener("click",ne);w.onclick=function(){y.style.display="flex"};Z.onclick=function(){y.style.display="none"};window.onclick=function(t){t.target==y&&(y.style.display="none")};q.onclick=function(){var t=document.querySelector("#username"),e=document.querySelector("#window-sign-up"),r=document.querySelector("#window-sign-in"),l=document.querySelector("button.submit-button");t.style.display="none",e.style.textDecoration="none",e.style.color="#111111",r.style.textDecoration="underline",r.style.color="var(--violet)",l.textContent="SIGN IN"};E.onclick=function(){var t=document.querySelector("#username"),e=document.querySelector("#window-sign-up"),r=document.querySelector("#window-sign-in"),l=document.querySelector("button.submit-button");t.style.display="",e.style.textDecoration="underline",e.style.color="var(--violet)",r.style.textDecoration="none",r.style.color="#111111",l.textContent="SIGN UP"};function oe(){var t=document.getElementById("username").value,e=document.getElementById("email").value,r=document.getElementById("password").value,l=document.querySelector("button.submit-button"),o=document.querySelector("form#sign-up-form");const n=JSON.parse(localStorage.getItem("users"))||[];if(l.textContent==="SIGN UP")if(!t||!e||!r){alert("Please fill out all fields.");return}else n.push({username:t,email:e,password:r}),localStorage.setItem("users",JSON.stringify(n)),alert("Signup Successful!"),y.style.display="none",o.reset();else{const i=n.find(c=>c.email===e);i==null||i.password!==r?alert("Password does not match or user does not exist!"):(alert("Signin successful!"),y.style.display="none",X.style.display="none",le(i.username),v.removeEventListener("click",N),v.addEventListener("click",j),o.reset())}}function re(){var t=document.querySelector("svg.swicther-2-svg"),e=document.querySelector("header.header"),r=document.querySelector("svg.nav-logo-txt"),l=document.querySelector("svg.hmbrgr-menu"),o=document.querySelector("a.nav-link.shopping-list"),n=document.querySelector("svg.lock-02"),i=document.querySelector("body"),c=document.querySelectorAll("ul#categories > li.ctg"),p=document.querySelector(".top_list-title"),M=document.querySelectorAll(".top_list-book_title "),U=document.querySelectorAll(".top_list-see_more"),O=document.querySelector(".modal-signUp"),T=document.querySelectorAll(".login-form form input"),f=document.querySelector(".login-form button"),$=document.querySelectorAll("div.modal-window > a"),D=document.querySelector("div.close-modal");t.innerHTML.includes("Switcher-2@2x.svg#switcher2")?(J(),t.innerHTML='<use href="img/SwitcherDark@2x.svg#switcherDark"></use>',e.style.backgroundColor="var(--black)",e.style.border=" 1.5px solid #FFFFFF",r.style.filter="brightness(0) invert(1)",l.style.filter="brightness(0) invert(1)",o.style.color="var(--white)",n.style.filter="brightness(0) invert(1)",i.style.backgroundColor="var(--black)",i.classList.add("dark-mode"),c.forEach(s=>{s.style.color="#FFFFFF"}),p.style.color="var(--white)",M.forEach(s=>{s.style.color="var(--white)"}),U.forEach(s=>{s.style.color="var(--white)"}),O.style.backgroundColor="var(--black)",T.forEach(s=>{s.style.backgroundColor="var(--black)",s.classList.add("dark-mode")}),f.style.backgroundColor="var(--white)",f.style.color="var(--black)",$.forEach(s=>{s.style.color="var(--white)"}),D.style.color="var(--white)"):(V(),t.innerHTML='<use href="img/Switcher-2@2x.svg#switcher2"></use>',e.style.backgroundColor="var(--white)",e.style.border=" 1.5px solid #111111",r.style.filter="",l.style.filter="",o.style.color="var(--black)",n.style.filter="",i.style.backgroundColor="var(--white)",i.classList.remove("dark-mode"),c.forEach(s=>{s.style.color="#111111"}),p.style.color="var(--black)",M.forEach(s=>{s.style.color="var(--black)"}),U.forEach(s=>{s.style.color="var(--black)"}),O.style.backgroundColor="#F6F6F6",T.forEach(s=>{s.style.backgroundColor="#F6F6F6",s.classList.remove("dark-mode")}),f.style.backgroundColor="#111111",f.style.color="var(--white)",$.forEach(s=>{s.style.color="var(--black)"}),D.style.color="var(--black)")}function le(t){var e=`<div class='signed-in'><img src='/img/Stephen.png' width=37 height= 37 alt='Stephen'/>
                    <p>${t}</p>
                    <svg class="sign-out btn-sign-out" width="23" height="26">
                       <use href="img/drop-down.svg#drop-down"></use>
                    </svg>
                </div>`;k.insertAdjacentHTML("beforeend",e)}function j(){S.style.display="block",S.insertAdjacentElement("afterend",k)}function ne(){S.style.display="none",k.firstElementChild.style.display="flex",k.firstElementChild.nextElementSibling.style.display="none",v.style.display="flex",v.removeEventListener("click",j),v.addEventListener("click",N)}let se={lines:12,length:30,width:15,radius:45,scale:1,corners:1,speed:1,rotate:0,animation:"spinner-line-fade-quick",direction:1,color:"#EAC645",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"};const z=new G(se),ve=t=>{z.spin(t)},he=()=>{z.stop()};var ie=document.querySelector("div.support-ukr > div.slider-div"),b=document.getElementById("slider");ie.addEventListener("click",ce);function ce(){de(),ae()}function ae(){b.src.includes("/slider.svg#slider")?b.src="img/blocks/sliderUp.svg#sliderUp":b.src="img/blocks/slider.svg#slider"}function de(){if(b.src.includes("/slider.svg#slider")){var t=document.querySelector("ol.support-list > li:nth-child(1)"),e=document.querySelector("ol.support-list > li:nth-child(2)"),r=document.querySelector("ol.support-list > li:nth-child(3)");t.style.display="none",e.style.display="none",r.style.display="none";var l=document.querySelector("ol.support-list");l.style.counterSet="custom 3";var o=document.querySelector("ol.support-list > li:nth-child(7)"),n=document.querySelector("ol.support-list > li:nth-child(8)"),i=document.querySelector("ol.support-list > li:nth-child(9)");o.style.display="flex",n.style.display="flex",i.style.display="flex";var c=document.querySelectorAll("ol.support-list > li.last3 > a > img ");c.forEach(p=>p.style.position="relative"),c.forEach(p=>p.style.top="0px")}else{var t=document.querySelector("ol.support-list > li:nth-child(1)"),e=document.querySelector("ol.support-list > li:nth-child(2)"),r=document.querySelector("ol.support-list > li:nth-child(3)");t.style.display="",e.style.display="",r.style.display="";var l=document.querySelector("ol.support-list");l.style.counterSet="custom 1";var o=document.querySelector("ol.support-list > li:nth-child(7)"),n=document.querySelector("ol.support-list > li:nth-child(8)"),i=document.querySelector("ol.support-list > li:nth-child(9)");o.style.display="none",n.style.display="none",i.style.display="none"}}export{ye as a,he as b,pe as c,me as g,ge as o,ve as s};
//# sourceMappingURL=support-ukr-J0-nDD3z.js.map
